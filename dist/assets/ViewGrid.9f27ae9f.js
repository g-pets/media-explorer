import{_ as e,u as t,a as o,b as l}from"./index.53d81af4.js";import{p as s,j as i,d as a,o as d,c,q as r,f as n,g as u,n as m,l as p,e as h,F as v,m as w,A as y,B as f,C as g}from"./vendor.dd811f19.js";s("data-v-26506c02");const k={class:"media-item",tabindex:"0"},V=["src"];i();const R={props:{item:Object},setup:e=>({preloadSlideshow:()=>{e.item.screenshots.forEach((e=>{(new Image).src=e}))},startSlideshow:t=>{const o=e.item.screenshots,l=t.target.clientWidth;let s=Math.round(l/o.length+1),i=t.layerX,a=Math.round(i/s);t.target.src=o[a]},stopSlideshow:t=>{const o=e.item.image;t.target.src=o}}),render:function(e,t,o,l,s,i){const p=a("icon");return d(),c("div",k,[o.item.rejected?(d(),r(p,{key:0,name:"reject"})):n("",!0),o.item.selected?(d(),r(p,{key:1,name:"check"})):n("",!0),u("img",{class:m(["cover",{selected:o.item.selected,rejected:o.item.rejected}]),src:o.item.image,loading:"lazy",onMouseover:t[0]||(t[0]=(...e)=>l.preloadSlideshow&&l.preloadSlideshow(...e)),onMousemove:t[1]||(t[1]=(...e)=>l.startSlideshow&&l.startSlideshow(...e)),onMouseleave:t[2]||(t[2]=(...e)=>l.stopSlideshow&&l.stopSlideshow(...e))},null,42,V)])},__scopeId:"data-v-26506c02"};s("data-v-71b40ca7");const S=["title"],b=["checked"],j={class:"content"},x={key:1,class:"title"};i();const _={emits:["update:modelValue"],props:{icon:String,title:String,tooltip:String,modelValue:Boolean},setup:(e,t)=>({update:e=>t.emit("update:modelValue",e.target.checked)}),render:function(e,t,o,l,s,i){const m=a("icon");return d(),c("label",{class:"control control-g-checker",title:o.tooltip},[u("input",{type:"checkbox",checked:o.modelValue,onChange:t[0]||(t[0]=(...e)=>l.update&&l.update(...e))},null,40,b),u("div",j,[o.icon?(d(),r(m,{key:0,name:o.icon},null,8,["name"])):n("",!0),o.title?(d(),c("div",x,p(o.title),1)):n("",!0)])],8,S)},__scopeId:"data-v-71b40ca7"};s("data-v-63824a7d");const C={class:"panel filters-panel section-fixed"},I={class:"counter"},M={class:"filters-control"};i();const A={components:{gChecker:_,gSearch:e},setup(){const{selectedRecordIndex:e,filteredRecords:o,filters:l}=t();return{selectedRecordIndex:e,filteredRecords:o,filters:l}},render:function(e,t,o,l,s,i){const r=a("gChecker"),n=a("g-search");return d(),c("div",C,[u("div",I,p(l.selectedRecordIndex+1)+" of "+p(l.filteredRecords.length),1),u("div",M,[h(r,{icon:"show-rejected",modelValue:l.filters.showRejected,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.showRejected=e),tooltip:"Show Rejected files"},null,8,["modelValue"]),h(r,{icon:"check",modelValue:l.filters.showProcessed,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.showProcessed=e),tooltip:"Show Processed files"},null,8,["modelValue"]),h(r,{icon:"author",modelValue:l.filters.showAuthor,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.showAuthor=e),tooltip:"Show all files by current author"},null,8,["modelValue"])]),h(n,{modelValue:l.filters.query,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.query=e)},null,8,["modelValue"])])},__scopeId:"data-v-63824a7d"};s("data-v-a67104e2");const U={class:"control control-g-range"},E=["min","max","value"];i();const N={emits:["update:modelValue"],props:{icons:Array,min:Number,max:Number,step:Number,modelValue:Number},render:function(e,t,o,l,s,i){const m=a("icon");return d(),c("div",U,[o.icons?(d(),r(m,{key:0,name:o.icons[0]},null,8,["name"])):n("",!0),u("input",{type:"range",min:o.min,max:o.max,step:"1",value:o.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,E),o.icons?(d(),r(m,{key:1,name:o.icons[1]},null,8,["name"])):n("",!0)])},__scopeId:"data-v-a67104e2"};s("data-v-3d48be1f");const P={class:"panel view-control section-fixed"};i();const q={components:{gSwitcher:o,gRange:N},setup(){const{view:e}=l();return{layouts:[{key:"grid",icon:"grid-view",tooltip:"Switch to Grid view"},{key:"strip",icon:"strip-view",tooltip:"Switch to Strip view"}],view:e}},render:function(e,t,o,l,s,i){const r=a("g-switcher"),n=a("g-range");return d(),c("div",P,[h(r,{id:"layout",options:l.layouts,modelValue:l.view.layout,"onUpdate:modelValue":t[0]||(t[0]=e=>l.view.layout=e)},null,8,["options","modelValue"]),h(n,{min:1,max:20,modelValue:l.view.gridCell,"onUpdate:modelValue":t[1]||(t[1]=e=>l.view.gridCell=e),modelModifiers:{number:!0},icons:["small-cell","large-cell"]},null,8,["modelValue"])])},__scopeId:"data-v-3d48be1f"},L={key:0,class:"item-active"},$=["src"],B={class:"items-list"};const F={components:{gSearch:e,MediaItem:R,FiltersPanel:A,ViewControl:q},setup(){const{selectRecord:e,selectedRecord:o,rejectRecord:s,nextRecord:i,setRating:a,filteredRecords:d}=t(),{layoutStyle:c,view:r,switchLayout:n}=l();let u,m=0;return g((()=>{window.addEventListener("keydown",(e=>{"Escape"===e.key&&n("grid"),"Enter"===e.key&&n("strip"),"p"===e.key&&s(),"ArrowLeft"===e.key&&i(-1),"ArrowRight"===e.key&&i(1),"0"===e.key&&a(0),"1"===e.key&&a(1),"2"===e.key&&a(2),"3"===e.key&&a(3),"4"===e.key&&a(4),"5"===e.key&&a(5)}))})),{recordClick:t=>{e(t),m++,1===m?u=setTimeout((()=>m=0),200):(clearTimeout(u),n("strip"),m=0)},view:r,rejectRecord:s,filteredRecords:d,selectedRecord:o,layoutStyle:c}},render:function(e,t,o,l,s,i){const p=a("filters-panel"),g=a("media-item"),k=a("view-control");return d(),c(v,null,[h(p),u("div",{class:m(["media-container section-scrolled",`${l.view.layout}-layout`]),style:f(l.layoutStyle)},["strip"===l.view.layout?(d(),c("div",L,[u("video",{src:l.selectedRecord.video_files[3].url,controls:"",muted:"",autoplay:"",loop:""},null,8,$)])):n("",!0),u("div",B,[(d(!0),c(v,null,w(l.filteredRecords,((e,t)=>(d(),r(g,{id:`media-item-${e.id}`,item:e,class:m({selected:l.selectedRecord.id==e.id}),onClick:[t=>l.recordClick(e.id),y((t=>l.rejectRecord(e.id)),["alt"])]},null,8,["id","item","class","onClick"])))),256))])],6),h(k)],64)}};export{F as default};
