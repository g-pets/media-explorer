import{_ as e,u as t,a as o,b as l}from"./index.a79fde42.js";import{p as s,g as a,r as i,o as c,c as d,k as r,m as n,d as u,n as m,i as p,b as v,F as w,j as h,B as y,C as f,D as g}from"./vendor.26956d2b.js";s("data-v-18608176");const k={class:"media-item",tabindex:"0"},V=["src"];a();const R={props:{item:Object},setup:e=>({preloadSlideshow:()=>{e.item.screenshots.forEach((e=>{(new Image).src=e}))},startSlideshow:t=>{const o=e.item.screenshots,l=t.target.clientWidth;let s=Math.round(l/o.length+1),a=t.layerX,i=Math.round(a/s);t.target.src=o[i]},stopSlideshow:t=>{const o=e.item.image;t.target.src=o}}),render:function(e,t,o,l,s,a){const p=i("icon");return c(),d("div",k,[o.item.rejected?(c(),r(p,{key:0,name:"reject"})):n("",!0),o.item.selected?(c(),r(p,{key:1,name:"check"})):n("",!0),u("img",{class:m(["cover",{selected:o.item.selected,rejected:o.item.rejected}]),src:o.item.image,loading:"lazy",onMouseover:t[0]||(t[0]=(...e)=>l.preloadSlideshow&&l.preloadSlideshow(...e)),onMousemove:t[1]||(t[1]=(...e)=>l.startSlideshow&&l.startSlideshow(...e)),onMouseleave:t[2]||(t[2]=(...e)=>l.stopSlideshow&&l.stopSlideshow(...e))},null,42,V)])},__scopeId:"data-v-18608176"};s("data-v-71b40ca7");const S=["title"],b=["checked"],j={class:"content"},x={key:1,class:"title"};a();const _={emits:["update:modelValue"],props:{icon:String,title:String,tooltip:String,modelValue:Boolean},setup:(e,t)=>({update:e=>t.emit("update:modelValue",e.target.checked)}),render:function(e,t,o,l,s,a){const m=i("icon");return c(),d("label",{class:"control control-g-checker",title:o.tooltip},[u("input",{type:"checkbox",checked:o.modelValue,onChange:t[0]||(t[0]=(...e)=>l.update&&l.update(...e))},null,40,b),u("div",j,[o.icon?(c(),r(m,{key:0,name:o.icon},null,8,["name"])):n("",!0),o.title?(c(),d("div",x,p(o.title),1)):n("",!0)])],8,S)},__scopeId:"data-v-71b40ca7"};s("data-v-63824a7d");const C={class:"panel filters-panel section-fixed"},I={class:"counter"},M={class:"filters-control"};a();const U={components:{gChecker:_,gSearch:e},setup(){const{selectedRecordIndex:e,filteredRecords:o,filters:l}=t();return{selectedRecordIndex:e,filteredRecords:o,filters:l}},render:function(e,t,o,l,s,a){const r=i("gChecker"),n=i("g-search");return c(),d("div",C,[u("div",I,p(l.selectedRecordIndex+1)+" of "+p(l.filteredRecords.length),1),u("div",M,[v(r,{icon:"show-rejected",modelValue:l.filters.showRejected,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.showRejected=e),tooltip:"Show Rejected files"},null,8,["modelValue"]),v(r,{icon:"check",modelValue:l.filters.showProcessed,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.showProcessed=e),tooltip:"Show Processed files"},null,8,["modelValue"]),v(r,{icon:"author",modelValue:l.filters.showAuthor,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.showAuthor=e),tooltip:"Show all files by current author"},null,8,["modelValue"])]),v(n,{modelValue:l.filters.query,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.query=e)},null,8,["modelValue"])])},__scopeId:"data-v-63824a7d"};s("data-v-02035523");const A={class:"control control-g-range"},E=["min","max","value"];a();const N={emits:["update:modelValue"],props:{icons:Array,min:Number,max:Number,step:Number,modelValue:Number},setup:(e,t)=>({stepValue:o=>t.emit("update:modelValue",e.modelValue+o),updateValue:e=>t.emit("update:modelValue",e.target.value)}),render:function(e,t,o,l,s,a){const m=i("icon");return c(),d("div",A,[o.icons?(c(),r(m,{key:0,name:o.icons[0],onClick:t[0]||(t[0]=e=>l.stepValue(-1))},null,8,["name"])):n("",!0),u("input",{type:"range",min:o.min,max:o.max,step:"1",value:o.modelValue,onInput:t[1]||(t[1]=(...e)=>l.updateValue&&l.updateValue(...e))},null,40,E),o.icons?(c(),r(m,{key:1,name:o.icons[1],onClick:t[2]||(t[2]=e=>l.stepValue(1))},null,8,["name"])):n("",!0)])},__scopeId:"data-v-02035523"};s("data-v-71cc898a");const P={class:"panel view-control section-fixed"};a();const $={components:{gSwitcher:o,gRange:N},setup(){const{view:e}=l();return{layouts:[{key:"grid",icon:"grid-view",tooltip:"Switch to Grid view"},{key:"strip",icon:"strip-view",tooltip:"Switch to Strip view"}],view:e}},render:function(e,t,o,l,s,a){const r=i("g-switcher"),n=i("g-range");return c(),d("div",P,[v(r,{id:"layout",options:l.layouts,modelValue:l.view.layout,"onUpdate:modelValue":t[0]||(t[0]=e=>l.view.layout=e)},null,8,["options","modelValue"]),v(n,{min:1,max:20,modelValue:l.view[l.view.layout],"onUpdate:modelValue":t[1]||(t[1]=e=>l.view[l.view.layout]=e),modelModifiers:{number:!0},icons:[`${l.view.layout}-view-compact`,`${l.view.layout}-view-wide`]},null,8,["modelValue","icons"])])},__scopeId:"data-v-71cc898a"},L={key:0,class:"item-preview"},q=["src"],B={class:"items-list"};const F={components:{gSearch:e,MediaItem:R,FiltersPanel:U,ViewControl:$},setup(){const{selectRecord:e,selectedRecord:o,rejectRecord:s,nextRecord:a,setRating:i,filteredRecords:c}=t(),{layoutStyle:d,view:r,switchLayout:n}=l();let u,m=0;return g((()=>{window.addEventListener("keydown",(e=>{"Escape"===e.key&&n("grid"),"Enter"===e.key&&n("strip"),"p"===e.key&&s(),"ArrowLeft"===e.key&&a(-1),"ArrowRight"===e.key&&a(1),"0"===e.key&&i(0),"1"===e.key&&i(1),"2"===e.key&&i(2),"3"===e.key&&i(3),"4"===e.key&&i(4),"5"===e.key&&i(5)}))})),{recordClick:t=>{e(t),m++,1===m?u=setTimeout((()=>m=0),200):(clearTimeout(u),n("strip"),m=0)},view:r,rejectRecord:s,filteredRecords:c,selectedRecord:o,layoutStyle:d}},render:function(e,t,o,l,s,a){const p=i("filters-panel"),g=i("media-item"),k=i("view-control");return c(),d(w,null,[v(p),u("div",{class:m(["media-container section-scrolled",`${l.view.layout}-layout`]),style:f(l.layoutStyle)},["strip"===l.view.layout?(c(),d("div",L,[u("video",{src:l.selectedRecord.video_files[3].url,controls:"",muted:"",autoplay:"",loop:""},null,8,q)])):n("",!0),u("div",B,[(c(!0),d(w,null,h(l.filteredRecords,((e,t)=>(c(),r(g,{id:`media-item-${e.id}`,item:e,class:m({selected:l.selectedRecord.id==e.id}),onClick:[t=>l.recordClick(e.id),y((t=>l.rejectRecord(e.id)),["alt"])]},null,8,["id","item","class","onClick"])))),256))])],6),v(k)],64)}};export{F as default};
